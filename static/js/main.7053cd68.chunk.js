(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{25:function(e,a,t){e.exports=t(38)},30:function(e,a,t){},32:function(e,a,t){},38:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(12),l=t.n(r),i=(t(30),t(9)),o=(t(31),t(32),t(8)),s=t(14),m=t(15),f=t(6);var u=t(24),d=t(7);function h(e){return c.a.createElement(o.a,null,e.officials.map((function(a){return function(e){return c.a.createElement(o.a.Check,{type:"checkbox",label:function(e){var a=function(e){var a="";for(var t in e)a+=e[t]+", ";return a=a.substring(0,a.length-2)}(e.emails);return c.a.createElement("span",null,e.name," (",e.office,"):"," ",c.a.createElement("a",{href:"mailto:"+a},a))}(e.official),className:"mb-1",onChange:function(){e.handleClick(e.official)},key:e.official.name,checked:e.official.checked})}({official:a,handleClick:e.handleClick})})))}var E=t(19);var p=t(23);function v(){var e,a=c.a.useState(""),t=Object(i.a)(a,2),n=t[0],r=t[1],l=c.a.useState([]),v=Object(i.a)(l,2),b=v[0],g=v[1],y=c.a.useState(!0),k=Object(i.a)(y,2),N=k[0],w=k[1],C=c.a.useState(!1),S=Object(i.a)(C,2),j=S[0],A=S[1],x=c.a.useState(""),O=Object(i.a)(x,2),I=O[0],D=O[1];function B(e,a){var t=a;return e.name.localeCompare(t.name)}function G(){A(!1)}return c.a.createElement("div",{className:"App"},c.a.createElement(u.a,null,c.a.createElement(d.a,{className:"mt-3 mb-0 justify-content-md-center"},c.a.createElement(f.a,{lg:8},c.a.createElement("h1",{className:"text-center"},"Representative Emails"))),c.a.createElement(d.a,{className:"mt-0 mb-0 justify-content-md-center"},c.a.createElement(f.a,{lg:8},c.a.createElement("p",{className:"mb-0 text-center"},"A tool to find your representatives and get their emails!"),c.a.createElement("p",{className:"mb-0 text-center"},"Built using the Google Civic Information API."),c.a.createElement("p",{className:"mb-3 text-center"},c.a.createElement("small",null,"\u2014 Stephanie Yoon")))),c.a.createElement(d.a,{className:"justify-content-md-center"},c.a.createElement(f.a,{lg:8},c.a.createElement("p",{className:"text-center mb-3"},c.a.createElement("a",{href:"https://syoon123.github.io/etemplate",target:"_blank",rel:"noopener noreferrer"},"Need to make an email template?")))),c.a.createElement(d.a,{className:"justify-content-md-center"},c.a.createElement(f.a,{lg:8},function(e){var a=c.a.useState(""),t=Object(i.a)(a,2),n=t[0],r=t[1];return c.a.createElement(o.a.Group,null,c.a.createElement(o.a.Row,null,c.a.createElement(f.a,{md:9,className:"mb-2"},c.a.createElement(s.a,{className:"input-group "+(e.error&&" is-invalid"),placeholder:"Type or paste an address","aria-label":"Address","aria-describedby":"basic-addon2",onChange:function(a){r(a.target.value),e.handleDismissAlert()},onKeyDown:function(a){"Enter"===a.key&&(a.preventDefault(),e.handleSubmit(n))}}),e.error&&c.a.createElement(o.a.Control.Feedback,{type:"invalid"},e.error)),c.a.createElement(f.a,{md:3},c.a.createElement(m.a,{block:!0,variant:"primary",onClick:function(){e.handleSubmit(n)}},"Get Emails"))))}({handleSubmit:function(e){fetch("https://www.googleapis.com/civicinfo/v2/representatives?address=".concat(e,"&key=AIzaSyDu5VBw2c0PyvyUGlUNEY7hsIQC55t4W_0")).then((function(e){return e.json()})).then((function(e){if("error"in e)r(e.error.message);else{r("");var a=e.offices,t=e.officials;a.forEach((function(e){e.officialIndices.forEach((function(a){t[a].office=e.name}))}));var n=t.filter((function(e){return"emails"in e})).map((function(e){return{name:e.name,emails:e.emails,office:e.office,checked:!0}}));0===n.length?A(!0):(n=n.sort(B),g(n))}}))},handleDismissAlert:G,error:n}))),c.a.createElement(d.a,{className:"justify-content-md-center mb-3"},c.a.createElement(f.a,{lg:8},(e={show:j,handleClose:G}).show?c.a.createElement(E.a,{variant:"danger",onClose:e.handleClose,dismissible:!0},c.a.createElement(E.a.Heading,null,"Oh snap!"),c.a.createElement("p",null,"None of your representatives seem to be reachable by email.")):void 0)),c.a.createElement(d.a,{className:"justify-content-md-center mb-3"},c.a.createElement(f.a,{lg:8},b.length>0&&function(e){return c.a.createElement(m.a,{variant:"success",block:!0,onClick:function(){navigator.clipboard.writeText(e.emailString)}},e.copyAll?"Copy All":"Copy Selected")}({emailString:I,copyAll:N}))),c.a.createElement(d.a,{className:"justify-content-md-center"},c.a.createElement(f.a,{lg:8},b.length>0&&c.a.createElement("h5",{className:"mb-3"},"We found ",b.length," ",1===b.length?"representative":"representatives"," ","you can email."))),c.a.createElement(d.a,{className:"justify-content-md-center"},c.a.createElement(f.a,{lg:8},b.length>0&&h({officials:b,handleClick:function(e){var a=new Set(b);b.forEach((function(t){if(Object(p.isEqual)(e,t)){a.delete(t);var n={name:e.name,office:e.office,emails:e.emails,checked:!e.checked};a.add(n)}}));var t=Array.from(a),n=t.every((function(e){return e.checked}));g(t.sort(B)),w(n);var c=new Set,r="";a.forEach((function(e){(n||e.checked)&&e.emails.forEach(c.add,c)})),c.forEach((function(e){r+=e+","})),D(r)}})))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.7053cd68.chunk.js.map