{"version":3,"sources":["components/OfficialsList.tsx","components/Official.tsx","App.tsx","components/DismissableAlert.tsx","components/AddressLookup.tsx","components/CopyButton.tsx","serviceWorker.ts","index.tsx"],"names":["OfficialsList","props","Form","officials","map","official","Check","type","label","emails","emailString","i","substring","length","emailStringFromArray","name","office","href","officialString","className","onChange","handleClick","key","checked","Official","App","React","useState","apiError","setApiError","setOfficials","copyAll","setCopyAll","showAlert","setShowAlert","emailsToCopy","setEmailsToCopy","sortByName","a","b","b_official","localeCompare","handleDismissAlert","Container","Row","Col","lg","target","rel","input","setInput","Group","md","FormControl","error","placeholder","aria-label","aria-describedby","evt","value","onKeyDown","preventDefault","handleSubmit","Control","Feedback","Button","block","variant","onClick","AddressLookup","address","fetch","then","response","json","data","officesData","officialsData","forEach","officialIndices","officialIndex","results","filter","result","sort","show","handleClose","Alert","onClose","dismissible","Heading","navigator","clipboard","writeText","CopyButton","newOfficials","Set","isEqual","delete","newOfficial","add","newOfficialsArray","Array","from","email","updateEmailsToCopy","every","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister","catch","console","message"],"mappings":"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","file":"static/js/main.a1c7817f.chunk.js","sourcesContent":["import React from 'react';\nimport Form from 'react-bootstrap/Form';\nimport { OfficialInformation, OfficialCallback } from '../App';\nimport Official from './Official';\ntype OfficialsListProps = {\n  officials: OfficialInformation[];\n  handleClick: OfficialCallback;\n};\n\nexport default function OfficialsList(props: OfficialsListProps) {\n  return (\n    <Form>\n      {props.officials.map((official: OfficialInformation) =>\n        Official({ official: official, handleClick: props.handleClick })\n      )}\n    </Form>\n  );\n}\n","import React from 'react';\nimport {\n  OfficialInformation,\n  OfficialCallback,\n  emailStringFromArray,\n} from '../App';\nimport Form from 'react-bootstrap/Form';\n\ntype OfficialProps = {\n  official: OfficialInformation;\n  handleClick: OfficialCallback;\n};\n\nexport default function Official(props: OfficialProps) {\n  function officialString(official: OfficialInformation) {\n    const emails: string = emailStringFromArray(official.emails);\n    return (\n      <span>\n        {official.name} ({official.office}):{' '}\n        <a href={'mailto:' + emails}>{emails}</a>\n      </span>\n    );\n  }\n  function handleClick() {\n    props.handleClick(props.official);\n  }\n  return (\n    <Form.Check\n      type=\"checkbox\"\n      label={officialString(props.official)}\n      className=\"mb-1\"\n      onChange={handleClick}\n      key={props.official.name}\n      checked={props.official.checked}\n    />\n  );\n}\n","import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport AddressLookup from './components/AddressLookup';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport OfficialsList from './components/OfficialsList';\nimport CopyButton from './components/CopyButton';\nimport DismissableAlert from './components/DismissableAlert';\nimport { isEqual } from 'lodash';\n\nexport type OfficialInformation = {\n  name: string;\n  office: string;\n  emails: string[];\n  checked: boolean;\n};\n\nexport type AddressLookupCallback = {\n  (address: string): void;\n};\n\nexport type OfficialCallback = {\n  (official: OfficialInformation): void;\n};\n\nexport type DismissAlertCallback = {\n  (): void;\n};\n\nexport function emailStringFromArray(emails: string[]) {\n  let emailString = '';\n  for (let i in emails) {\n    emailString += emails[i] + ', ';\n  }\n  emailString = emailString.substring(0, emailString.length - 2);\n  return emailString;\n}\n\nexport default function App() {\n  const [apiError, setApiError] = React.useState<string>('');\n  const [officials, setOfficials] = React.useState<OfficialInformation[]>([]);\n  const [copyAll, setCopyAll] = React.useState<boolean>(true);\n  const [showAlert, setShowAlert] = React.useState<boolean>(false);\n  const [emailsToCopy, setEmailsToCopy] = React.useState<string>('');\n\n  function sortByName(a: any, b: any) {\n    const a_official = a as OfficialInformation;\n    const b_official = b as OfficialInformation;\n    return a_official.name.localeCompare(b_official.name);\n  }\n\n  function handleAddressLookup(address: string) {\n    fetch(\n      `https://www.googleapis.com/civicinfo/v2/representatives?address=${address}&key=AIzaSyDu5VBw2c0PyvyUGlUNEY7hsIQC55t4W_0`\n    )\n      .then((response) => response.json())\n      .then((data) => {\n        if ('error' in data) {\n          setApiError(data['error']['message']);\n        } else {\n          setApiError('');\n          const officesData: any[] = data['offices'];\n          let officialsData: any[] = data['officials'];\n          officesData.forEach((office: any) => {\n            const officialIndices: number[] = office.officialIndices;\n            officialIndices.forEach((officialIndex: number) => {\n              officialsData[officialIndex].office = office.name;\n            });\n          });\n          let results = officialsData\n            .filter((result: any) => 'emails' in result)\n            .map((result: any) => ({\n              name: result['name'],\n              emails: result['emails'],\n              office: result['office'],\n              checked: true,\n            }));\n          if (results.length === 0) {\n            setShowAlert(true);\n          } else {\n            results = results.sort(sortByName);\n            setOfficials(results);\n          }\n        }\n      });\n  }\n\n  function handleDismissAlert() {\n    setShowAlert(false);\n  }\n\n  function handleClick(official: OfficialInformation) {\n    let newOfficials = new Set<OfficialInformation>(officials);\n    officials.forEach((value: OfficialInformation) => {\n      if (isEqual(official, value)) {\n        newOfficials.delete(value);\n        const newOfficial = {\n          name: official.name,\n          office: official.office,\n          emails: official.emails,\n          checked: !official.checked,\n        };\n        newOfficials.add(newOfficial);\n      }\n    });\n    const newOfficialsArray = Array.from(newOfficials);\n    updateEmailsToCopy();\n    setOfficials(newOfficialsArray.sort(sortByName));\n    setCopyAll(\n      newOfficialsArray.every(\n        (official: OfficialInformation) => official.checked\n      )\n    );\n  }\n\n  function updateEmailsToCopy() {\n    let emails = new Set<string>();\n    let emailString: string = '';\n    officials.forEach((value: OfficialInformation) => {\n      if (copyAll || value.checked) {\n        value.emails.forEach(emails.add, emails);\n      }\n    });\n    emails.forEach((email: string) => {\n      emailString += email + ',';\n    });\n    setEmailsToCopy(emailString);\n  }\n\n  return (\n    <div className=\"App\">\n      <Container>\n        <Row className=\"mt-3 mb-0 justify-content-md-center\">\n          <Col lg={8}>\n            <h1 className=\"text-center\">Representative Emails</h1>\n          </Col>\n        </Row>\n        <Row className=\"mt-0 mb-0 justify-content-md-center\">\n          <Col lg={8}>\n            <p className=\"mb-0 text-center\">\n              A tool to find your representatives and get their emails!\n            </p>\n            <p className=\"mb-0 text-center\">\n              Built using the Google Civic Information API.\n            </p>\n            <p className=\"mb-3 text-center\">\n              <small>&mdash; Stephanie Yoon</small>\n            </p>\n          </Col>\n        </Row>\n        <Row className=\"justify-content-md-center\">\n          <Col lg={8}>\n            <p className=\"text-center mb-3\">\n              <a\n                href=\"https://syoon123.github.io/etemplate\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Need to make an email template?\n              </a>\n            </p>\n          </Col>\n        </Row>\n        <Row className=\"justify-content-md-center\">\n          <Col lg={8}>\n            {AddressLookup({\n              handleSubmit: handleAddressLookup,\n              handleDismissAlert: handleDismissAlert,\n              error: apiError,\n            })}\n          </Col>\n        </Row>\n        <Row className=\"justify-content-md-center mb-3\">\n          <Col lg={8}>\n            {DismissableAlert({\n              show: showAlert,\n              handleClose: handleDismissAlert,\n            })}\n          </Col>\n        </Row>\n        <Row className=\"justify-content-md-center mb-3\">\n          <Col lg={8}>\n            {officials.length > 0 &&\n              CopyButton({\n                emailString: emailsToCopy,\n                copyAll: copyAll,\n              })}\n          </Col>\n        </Row>\n        <Row className=\"justify-content-md-center\">\n          <Col lg={8}>\n            {officials.length > 0 && (\n              <h5 className=\"mb-3\">\n                We found {officials.length}{' '}\n                {officials.length === 1 ? 'representative' : 'representatives'}{' '}\n                you can email.\n              </h5>\n            )}\n          </Col>\n        </Row>\n        <Row className=\"justify-content-md-center\">\n          <Col lg={8}>\n            {officials.length > 0 &&\n              OfficialsList({\n                officials: officials,\n                handleClick: handleClick,\n              })}\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n}\n","import React from 'react';\nimport Alert from 'react-bootstrap/Alert';\nimport { DismissAlertCallback } from '../App';\n\ntype DismissableAlertProps = {\n  show: boolean;\n  handleClose: DismissAlertCallback;\n};\n\nexport default function DismissableAlert(props: DismissableAlertProps) {\n  if (props.show) {\n    return (\n      <Alert variant=\"danger\" onClose={props.handleClose} dismissible>\n        <Alert.Heading>Oh snap!</Alert.Heading>\n        <p>None of your representatives seem to be reachable by email.</p>\n      </Alert>\n    );\n  } else {\n    return;\n  }\n}\n","import React from 'react';\nimport Form from 'react-bootstrap/Form';\nimport FormControl from 'react-bootstrap/FormControl';\nimport Button from 'react-bootstrap/Button';\nimport { AddressLookupCallback, DismissAlertCallback } from '../App';\nimport Col from 'react-bootstrap/Col';\n\ntype AddressLookupProps = {\n  handleSubmit: AddressLookupCallback;\n  handleDismissAlert: DismissAlertCallback;\n  error: string;\n};\n\nexport default function AddressLookup(props: AddressLookupProps) {\n  const [input, setInput] = React.useState<string>('');\n\n  const handleChange = (evt: React.ChangeEvent<HTMLInputElement>) => {\n    setInput(evt.target.value);\n    props.handleDismissAlert();\n  };\n\n  const handleKeyDown = (evt: React.KeyboardEvent<HTMLInputElement>) => {\n    if (evt.key === 'Enter') {\n      evt.preventDefault();\n      props.handleSubmit(input);\n    }\n  };\n\n  return (\n    <Form.Group>\n      <Form.Row>\n        <Col md={9} className=\"mb-2\">\n          <FormControl\n            className={'input-group ' + (props.error && ' is-invalid')}\n            placeholder=\"Type or paste an address\"\n            aria-label=\"Address\"\n            aria-describedby=\"basic-addon2\"\n            onChange={handleChange}\n            onKeyDown={handleKeyDown}\n          ></FormControl>\n          {props.error && (\n            <Form.Control.Feedback type=\"invalid\">\n              {props.error}\n            </Form.Control.Feedback>\n          )}\n        </Col>\n        <Col md={3}>\n          <Button\n            block\n            variant=\"primary\"\n            onClick={() => {\n              props.handleSubmit(input);\n            }}\n          >\n            Get Emails\n          </Button>\n        </Col>\n      </Form.Row>\n    </Form.Group>\n  );\n}\n","import React from 'react';\nimport Button from 'react-bootstrap/Button';\n\ntype CopyButtonProps = {\n  emailString: string;\n  copyAll: boolean;\n};\n\nexport default function CopyButton(props: CopyButtonProps) {\n  function handleClick() {\n    navigator.clipboard.writeText(props.emailString);\n  }\n  return (\n    <Button variant=\"success\" block onClick={handleClick}>\n      {props.copyAll ? 'Copy All' : 'Copy Selected'}\n    </Button>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}